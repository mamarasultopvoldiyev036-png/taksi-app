<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Taksi Buyurtma</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body { font-family: sans-serif; background-color: #f0ebf8; padding: 20px; }
        .form-card { background: white; padding: 20px; border-radius: 8px; border-top: 8px solid #673ab7; }
        input { width: 100%; padding: 10px; margin: 10px 0; border: 1px solid #ddd; border-radius: 4px; box-sizing: border-box; }
        button { width: 100%; padding: 12px; background: #673ab7; color: white; border: none; border-radius: 4px; font-weight: bold; cursor: pointer; }
    </style>
</head>
<body>

<div class="form-card">
    <h2>ðŸš– Buyurtma berish</h2>
    
    <label>Ismingiz:</label>
    <input type="text" id="u_name" placeholder="Ali Valiyev">

    <label>Telefon raqamingiz:</label>
    <input type="tel" id="u_phone" placeholder="+998901234567">

    <label>Qayerdan - Qayerga:</label>
    <input type="text" id="u_address" placeholder="Chorsu - Yunusobod">

    <button id="send_btn">Haydovchiga yuborish</button>
</div>

<script>
    const tg = window.Telegram.WebApp;
    tg.expand();

    const btn = document.getElementById('send_btn');

    btn.addEventListener('click', () => {
        // Ma'lumotlarni yig'amiz
        const name = document.getElementById('u_name').value;
        const phone = document.getElementById('u_phone').value;
        const address = document.getElementById('u_address').value;

        // Tekshirish
        if (!name || !phone || !address) {
            tg.showAlert("Iltimos, hamma joyni to'ldiring!");
            return;
        }

        // BOTGA YUBORILADIGAN OBYEKT
        const orderData = {
            name: name,
            phone: phone,
            address: address
        };

        // Mana shu qatorda ma'lumot botga ketadi
        tg.sendData(JSON.stringify(orderData));
    });
</script>

</body>
</html>
